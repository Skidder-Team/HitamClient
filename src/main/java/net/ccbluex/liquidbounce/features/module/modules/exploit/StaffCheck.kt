package net.ccbluex.liquidbounce.features.module.modules.misc

import net.minecraft.network.play.client.C0FPacketConfirmTransaction
import net.minecraft.network.play.client.C01PacketChatMessage
import net.minecraft.network.play.server.S02PacketChat;
import net.minecraft.network.play.server.S14PacketEntity.S15PacketEntityRelMove
import net.minecraft.network.play.server.S32PacketConfirmTransaction
import net.ccbluex.liquidbounce.LiquidBounce
import net.ccbluex.liquidbounce.ui.client.hud.element.elements.Notification
import net.ccbluex.liquidbounce.ui.client.hud.element.elements.NotifyType
import net.ccbluex.liquidbounce.event.*
import net.ccbluex.liquidbounce.features.module.Module
import net.ccbluex.liquidbounce.features.module.ModuleCategory
import net.ccbluex.liquidbounce.features.module.ModuleInfo
import java.util.concurrent.LinkedBlockingQueue
import kotlin.text.StringsKt

@ModuleInfo(name = "StaffCheck", category = ModuleCategory.EXPLOIT)
class StaffCheck: Module() {

    private val timer = MSTimer()

    private val staffs = arrayOf("Jiternos", "FacedApollo", "BadAccuracyID", "LyraMS", "iBapL", "SpotifyProfile", "xXAyamBetutuXx", "ARVIN1308", "_Rzz", "BukanNezon", "BlazePxly", "Afif87123", "Xylanneal", "KimRokSoo", "JoseMarcellio", "ZenthicMC", "GazorYT", "DaozaBoy", "FayBoy", "rajaopak", "Funaa", "GeraldiNP", "Isnic", "Cyclize", "SassyLords", "mfik", "RekinZ", "Rynqu", "Ghifary", "Lucents", "sepensins", "MrRanZler", "Aeterna_", "ArianShev", "CreEzte", "E4_Exist", "Enter_Wisely", "TerraDirtz", "prqbu", "Pvpiify", "Prisoner", "Contradictor", "_PedPed_", "Miichin", "Atticuss_Rhodes", "Nerozvox", "Pulpen", "Supramen", "ItzStormz", "ChromaaXD")

    private val res = LinkedBlockingQueue<String>()

    override fun onEnable() {
        res.clear()
        timer.reset()
        ClientUtils.displayChatMessage("§eChecking §b" + staffs.length + " §estaff members...")
        String[] var1 = staffs
        int var2 = 0
        int var3 = var1.length

        while(var2 < var3) {
           String i = var1[var2];
           ++var2;
           mc.netHandler.addToSendQueue(C01PacketChatMessage("/p " + i))
        }
    }

    override fun onDisable() {
        ClientUtils.displayChatMessage("§eFound §b" + res.size() + " §estaff members possibly online.")
        Iterator var1 = res.iterator()

        while(var1.hasNext()) {
          String n = (String)var1.next()
          ClientUtils.displayChatMessage(n)
        }
    }

    @EventTarget
    fun onUpdate(event: UpdateEvent) {
        if (timer.hasTimePassed(1000L)) {
            this.setState(false);
        }
    }

    @EventTarget
    fun onPacket(event: PacketEvent) {
        Packet packet = event.getPacket();
        if (packet instanceof S02PacketChat) {
            String var4 = (S02PacketChat)packet
            Locale var5 = Locale.getDefault()
            String var6 = var4.toLowerCase(var5)

            String text = var6;
            if (StringsKt.contains((CharSequence)var6, (CharSequence)"lyra", false, 2, (Object)null)) {
                event.cancelEvent()
            }

            String[] var9 = staffs
            int var10 = 0
            int var11 = var9.length

            while(var10 < var11) {
              String n = var9[var10]
              ++var10
              CharSequence var10000 = (CharSequence)text
              String var8 = n.toLowerCase(Locale.ROOT)
              if (StringsKt.contains(var10000, (CharSequence)var8, false, 2, (Object)null)) {
                  res.add(n)
              }
            }
        }
    }
}
